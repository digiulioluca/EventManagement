<div class="booking-container container my-5">

  <!-- Loading -->
  <div *ngIf="isLoading" class="loading">Caricamento profilo...</div>

  <!-- User Data -->
  <div *ngIf="!isLoading && user">

    <h2 class="text-center mb-4">ðŸ‘¤ Profilo Utente</h2>

    <!-- Visualizzazione dati -->
    <div *ngIf="!editMode" class="reservation-item">
      <p><strong>Nome:</strong> {{ user.name }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
      <p><strong>Ruolo:</strong> {{ user.role }}</p>

      <div class="d-flex justify-content-between mt-3">
        <button
          class="btn btn-sm"
          style="background-color: #fcc902; color: #0c0b0b;"
          (click)="enableEdit()"
        >
          <i class="bi bi-pencil-square"></i> Modifica
        </button>

        <button
          class="btn btn-sm btn-outline-danger"
          (click)="deleteProfile()"
        >
          <i class="bi bi-trash3"></i> Cancella Profilo
        </button>
      </div>
    </div>

    <!-- ModalitÃ  modifica -->
    <div *ngIf="editMode && editableUser" class="reservation-item">
      <form (ngSubmit)="saveEdit()">
        <label>
          Nome:
          <input [(ngModel)]="editableUser.name" name="name" required />
        </label>
        <label>
          Email:
          <input [(ngModel)]="editableUser.email" name="email" required type="email" />
        </label>
        <p><strong>Ruolo:</strong> {{ user.role }}</p>

        <div class="d-flex justify-content-between mt-3">
          <button type="submit" class="btn btn-sm" style="background-color: #fcc902; color: #0c0b0b;">
            <i class="bi bi-save"></i> Salva
          </button>
          <button
            type="button"
            class="btn btn-sm"
            style="background-color: #5c4a08; color: white;"
            (click)="cancelEdit()"
          >
            <i class="bi bi-x-circle"></i> Annulla
          </button>
          <button
            type="button"
            class="btn btn-sm btn-outline-danger"
            (click)="deleteProfile()"
          >
            <i class="bi bi-trash3"></i> Cancella Profilo
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Utente non trovato -->
  <div *ngIf="!isLoading && !user" class="loading">
    Utente non trovato.
  </div>
</div>
